<!DOCTYPE html>
<html lang="">
    <head>
        <title>Building the Front-End Layer</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="bear-note-unique-identifier" content="2F849F6D-709C-4210-A358-E68D3069EE53">
        <meta name="created" content="2022-11-09T19:37:05-0600">
        <meta name="modified" content="2024-08-09T11:08:29-0500">
        <meta name="tags" content="_book, _book/Programing, _book/Programing/Web-Scalability">
        <meta name="last device" content="xiaoquan’s MacBook Pro">
        
        <style>
             body {
   --base-background-color: #ffffff;
   --document-background-color: var(--base-background-color);
 }

.document-wrapper {
  /* Constants used to transform theme values to CSS */
  --transform-line-height-factor: 1.17;

  /* From template */
  --base-text-color: #444444;
  --base-text-secondary-color: #888888;
  --base-text-tertiary-color: #d9d9d9;
  --base-background-color: #ffffff;
  --base-background-secondary-color: #F3F5F7;
  --base-background-tertiary-color: #E4E5E6;
  --base-stroke-color: #d9d9d9;
  --base-stroke-secondary-color: #d9d9d9;
  --base-accent-color: #DD4C4F;
  --base-highlight-color: ;

  --document-background-color: var(--base-background-color);
  --document-text-color: var(--base-text-color);
  --document-text-secondary-color: var(--base-text-secondary-color);
  --document-text-light-color: var(--base-text-secondary-color);
  --document-accent-color: var(--base-accent-color);
  --document-cursor-color: var(--base-accent-color);
  --document-link-color: var(--base-accent-color);
  --document-list-marker-color: var(--base-accent-color);
  --document-marker-color: var(--base-text-tertiary-color);
  --document-selection-color: var(--base-selection-color);
  --document-selection-inactive-color: var(--base-background-tertiary-color);
  --document-text-font: "AvenirNext-Regular";
  --document-text-size: 15px;
  --document-line-height-multiplier: calc(
    1.5 * var(--transform-line-height-factor)
  );

  --document-headers-text-color: var(--base-text-color);
  --document-headers-font: "AvenirNext-Medium";
  --document-headers-modular-scale: 1.125;
  --document-headers-line-height-multiplier: calc(
    1.3 * var(--transform-line-height-factor)
  );
  --document-headers-add-top-bottom-padding: 1;
  --document-headers-padding-top-multiplier: 0.5;
  --document-headers-padding-bottom-multiplier: 0.3;

  --document-code-text-color: var(--base-text-color);
  --document-code-border-color: var(--base-text-tertiary-color);
  --document-code-background-color: var(--base-background-secondary-color);
  --document-code-font: "Menlo-Regular";
  --document-code-text-size-multiplier: 0.91em;

  --document-code-syntax-highlight-comment: #65798c;
  --document-code-syntax-highlight-constant: #0095c9;
  --document-code-syntax-highlight-number: #0095c9;
  --document-code-syntax-highlight-string: #d12f1b;
  --document-code-syntax-highlight-entity: #4a838b;
  --document-code-syntax-highlight-keyword: #ad3da4;
  --document-code-syntax-highlight-function: #4a838b;
  --document-code-syntax-highlight-variable: #4a838b;

  --document-task-background-color: var(--base-background-color);
  --document-task-border-color: var(--base-text-secondary-color);
  --document-task-check-color: var(--base-text-color);

  --document-tag-background-color: var(--base-background-tertiary-color);
  --document-tag-text-color: var(--base-text-color);
  --document-tag-marker-color: var(--base-text-secondary-color);

  --document-highlighter-background-color: #CDF7BD;
  --document-highlighter-text-color: #102D05;

  --document-highlighter-red-background-color: #FED09F;
  --document-highlighter-red-text-color: #321A00;

  --document-highlighter-blue-background-color: #C9E5FF;
  --document-highlighter-blue-text-color: #001A32;

  --document-highlighter-green-background-color: #CDF7BD;
  --document-highlighter-green-text-color: #102D05;

  --document-highlighter-purple-background-color: #FEDAFF;
  --document-highlighter-purple-text-color: #310032;

  --document-highlighter-yellow-background-color: #FCF195;
  --document-highlighter-yellow-text-color: #312C01;
  
  --document-file-fold-color: var(--base-background-tertiary-color);
  --document-file-background-color: var(--base-background-secondary-color);

  --document-separator-border-color: var(--base-stroke-secondary-color);

  --document-table-border-color: var(--base-stroke-secondary-color);
  --document-table-cell-background-color: var(--base-background-color);
  --document-table-cell-alternate-background-color: var(
    --base-background-secondary-color
  );
}

.document-wrapper,body{background-color:var(--document-background-color)}.document-wrapper h1.setext,.document-wrapper h2.setext{border-bottom:calc(2 * var(--document-hairline-width)) solid var(--document-separator-border-color);padding-bottom:.6em}.document-wrapper blockquote blockquote blockquote blockquote blockquote::before,.document-wrapper blockquote blockquote blockquote::before,.document-wrapper blockquote::before{background-color:var(--document-list-marker-color)}.document-wrapper td[data-alignment="1"],.document-wrapper th{text-align:left}.document-wrapper :after,.document-wrapper :before,.document-wrapper a,.document-wrapper abbr,.document-wrapper acronym,.document-wrapper address,.document-wrapper applet,.document-wrapper article,.document-wrapper aside,.document-wrapper audio,.document-wrapper b,.document-wrapper big,.document-wrapper blockquote,.document-wrapper canvas,.document-wrapper caption,.document-wrapper center,.document-wrapper cite,.document-wrapper code,.document-wrapper dd,.document-wrapper del,.document-wrapper details,.document-wrapper dfn,.document-wrapper div,.document-wrapper dl,.document-wrapper dt,.document-wrapper em,.document-wrapper embed,.document-wrapper fieldset,.document-wrapper figcaption,.document-wrapper figure,.document-wrapper footer,.document-wrapper form,.document-wrapper h1,.document-wrapper h2,.document-wrapper h3,.document-wrapper h4,.document-wrapper h5,.document-wrapper h6,.document-wrapper header,.document-wrapper hgroup,.document-wrapper i,.document-wrapper iframe,.document-wrapper ins,.document-wrapper kbd,.document-wrapper label,.document-wrapper legend,.document-wrapper li,.document-wrapper mark,.document-wrapper menu,.document-wrapper nav,.document-wrapper object,.document-wrapper ol,.document-wrapper output,.document-wrapper p,.document-wrapper pre,.document-wrapper q,.document-wrapper ruby,.document-wrapper s,.document-wrapper samp,.document-wrapper section,.document-wrapper small,.document-wrapper span,.document-wrapper strike,.document-wrapper strong,.document-wrapper summary,.document-wrapper table,.document-wrapper tbody,.document-wrapper td,.document-wrapper tfoot,.document-wrapper th,.document-wrapper thead,.document-wrapper time,.document-wrapper tr,.document-wrapper tt,.document-wrapper u,.document-wrapper ul,.document-wrapper var,.document-wrapper video{all:unset}.document-wrapper{--document-inline-padding-top-bottom:0.25em;--document-inline-padding-left-right:0.25em;--header-1-font-size:2em;--header-2-font-size:1.6em;--header-3-font-size:1.27em;--document-hairline-width:calc(var(--document-text-size) / 15);box-sizing:border-box;color:var(--document-text-color);font-family:var(--document-text-font);font-size:var(--document-text-size);line-height:var(--document-line-height-multiplier);min-height:100%;max-width:48em;width:100%;tab-size:4;margin:0 auto;padding:0 2em}body{text-rendering:optimizeLegibility}.document-wrapper:focus-visible{outline:0}.document-wrapper .marker{color:var(--document-marker-color);display:none}.document-wrapper [data-direction="2"]{direction:rtl}.document-wrapper div.footnote,.document-wrapper div.link-definition,.document-wrapper p{display:block}.document-wrapper p.blank-line::before{content:" "}.document-wrapper h1,.document-wrapper h2,.document-wrapper h3,.document-wrapper h4,.document-wrapper h5,.document-wrapper h6{font-family:var(--document-headers-font);display:block;line-height:var(--document-headers-line-height-multiplier)}.document-wrapper h1{font-size:var(--header-1-font-size);padding-block-start:0.8em;padding-block-end:0.33em}.document-wrapper h2{font-size:var(--header-2-font-size);padding-block-start:0.66em;padding-block-end:0.27em}.document-wrapper h3{font-size:var(--header-3-font-size);padding-block-start:0.53em;padding-block-end:0.27em}.document-wrapper code,.document-wrapper pre{font-size:var(--document-code-text-size-multiplier);font-family:var(--document-code-font),monospace}.document-wrapper h4,.document-wrapper h5,.document-wrapper h6{padding-block-start:0.4em;padding-block-end:0.27em}.document-wrapper h1.setext{margin-bottom:.45em}.document-wrapper h2.setext{margin-bottom:.2em}.document-wrapper .fenced-code *,.document-wrapper .fenced-code-content .marker,.document-wrapper .fenced-code-content .space,.document-wrapper .hard-linebreak-marker,.document-wrapper .image .space,.document-wrapper .image-destination,.document-wrapper .image-label,.document-wrapper .image-title,.document-wrapper .indented-code .space,.document-wrapper .link .space,.document-wrapper .link-destination,.document-wrapper .link-label,.document-wrapper .link-title,.document-wrapper .replace .text,.document-wrapper .setext-heading-marker+.line-ending,.document-wrapper .yaml-marker+.line-ending,.document-wrapper li>p>.space:first-child,.document-wrapper tr.delimiter-row{display:none}.document-wrapper ol,.document-wrapper ul{display:block;padding-inline-start:2.13em}.document-wrapper li{display:list-item;color:var(--document-text-color)}.document-wrapper .color-marker,.document-wrapper .entity-marker,.document-wrapper .fenced-code-content,.document-wrapper .fenced-code-content *,.document-wrapper .footnote-separator,.document-wrapper .link-definition-separator,.document-wrapper code.code-inline,.document-wrapper li>p{display:inline}.document-wrapper ul{list-style-type:disc}.document-wrapper li li li li li li li ul,.document-wrapper li li li li li ul,.document-wrapper li li li ul,.document-wrapper li ul{list-style:circle}.document-wrapper li li li li li li ul,.document-wrapper li li li li ul,.document-wrapper li li ul{list-style:disc}.document-wrapper li::marker{color:var(--document-list-marker-color)}.document-wrapper ol{list-style-type:none;counter-reset:custom-list-item calc(var(--data-list-start,1) - 1)}.document-wrapper ol>li{counter-increment:custom-list-item;position:relative}.document-wrapper ol>li::before{content:counter(custom-list-item) ". ";color:var(--document-list-marker-color);position:absolute;transform:translate(calc(-100% - .33em),0)}.document-wrapper ol>li[data-big-number=true]{margin-inline-start:-2.05em}.document-wrapper ol>li[data-big-number=true]::before{position:static;padding-inline-end:0.25em}.document-wrapper ol>li[data-list-type="1"]:before{content:counter(custom-list-item) ") "}.document-wrapper [data-direction="2"] ol>li::before,.document-wrapper ol[data-direction="2"]>li::before{transform:translate(calc(100% + .33em),0)}.document-wrapper li[role=checkbox]{list-style:none;position:relative}.document-wrapper li[aria-checked=true]{color:var(--document-text-secondary-color)}.document-wrapper .todo-checkbox{display:inline-block;margin-left:-1.7em;margin-right:.5em}.document-wrapper .todo-checkbox svg{display:inline-block;margin-bottom:-.3em}.document-wrapper blockquote{display:block;padding-inline-start:2.13em;position:relative}.document-wrapper code,.document-wrapper mark,span.highlighted{padding:var(--document-inline-padding-top-bottom) var(--document-inline-padding-left-right)}.document-wrapper blockquote::before{content:"";position:absolute;top:.2em;left:1em;width:.13em;height:calc(100% - .4em);border:var(--document-hairline-width) solid var(--document-list-marker-color);border-radius:.33em}.document-wrapper code,.document-wrapper pre.fenced-code,.document-wrapper pre.indented-code,.document-wrapper pre.yaml{color:var(--document-code-text-color);background-color:var(--document-code-background-color);border-radius:.25em}.document-wrapper [data-direction="2"] blockquote::before,.document-wrapper blockquote[data-direction="2"]::before{left:0;right:1em}.document-wrapper blockquote blockquote blockquote blockquote blockquote blockquote::before,.document-wrapper blockquote blockquote blockquote blockquote::before,.document-wrapper blockquote blockquote::before{background-color:transparent}.document-wrapper hr{display:block;margin-block-start:calc(var(--document-line-height-multiplier) * 0.5em);margin-block-end:calc(var(--document-line-height-multiplier) * -0.5em);border-top:var(--document-hairline-width) solid var(--document-separator-border-color)}.document-wrapper pre{display:block;white-space:pre-wrap}.document-wrapper pre.indented-code{padding-inline-start:2.13em}.document-wrapper pre.fenced-code,.document-wrapper pre.yaml{padding:0 .5em}.document-wrapper .fenced-code::before{content:"\200B"}.document-wrapper code{font-weight:400;font-style:normal;display:block}.document-wrapper mark code{color:var(--document-text-color);background-color:var(--document-highlighter-background-color)}.document-wrapper em,.document-wrapper i{font-family:AvenirNext-Italic}.document-wrapper b,.document-wrapper strong,.document-wrapper th{font-family:AvenirNext-Bold}.document-wrapper mark,span.highlighted{color:var(--document-highlighter-background-text-color);background-color:var(--document-highlighter-background-color);text-decoration:inherit;unicode-bidi:embed;border-radius:.25em}.document-wrapper mark.red,span.highlighted.red{color:var(--document-highlighter-red-background-text-color);background-color:var(--document-highlighter-red-background-color)}.document-wrapper mark.blue,span.highlighted.blue{color:var(--document-highlighter-blue-background-text-color);background-color:var(--document-highlighter-blue-background-color)}.document-wrapper mark.green,span.highlighted.green{color:var(--document-highlighter-green-background-text-color);background-color:var(--document-highlighter-green-background-color)}.document-wrapper mark.yellow,span.highlighted.yellow{color:var(--document-highlighter-yellow-background-text-color);background-color:var(--document-highlighter-yellow-background-color)}.document-wrapper mark.purple,span.highlighted.purple{color:var(--document-highlighter-purple-background-text-color);background-color:var(--document-highlighter-purple-background-color)}.document-wrapper u{text-decoration:underline;text-decoration-color:var(--document-accent-color);unicode-bidi:embed}.document-wrapper s,.document-wrapper strike{text-decoration:line-through}.document-wrapper a{color:var(--document-link-color);unicode-bidi:embed;cursor:pointer}.document-wrapper a:hover{text-decoration:inherit}.document-wrapper .wiki-separator-marker{display:inline;color:inherit}.document-wrapper .link-definition-title{color:var(--document-text-light-color)}.document-wrapper .footnote-ref{font-size:.9em;vertical-align:super}.document-wrapper span.entity{direction:ltr;unicode-bidi:embed;color:var(--document-code-syntax-highlight-entity)}.document-wrapper span.escape{unicode-bidi:embed}.document-wrapper .color{font-family:var(--document-code-font),monospace;font-size:var(--document-code-text-size-multiplier);padding-inline-start:1.2em;position:relative;direction:ltr;unicode-bidi:embed}.document-wrapper .color::before{content:"";position:absolute;width:.9em;height:.9em;left:0;bottom:0;transform:translateY(-15%);border:var(--document-hairline-width) solid rgb(0,0,0,.3);border-radius:.9em;background-color:var(--data-color)}.document-wrapper .hashtag{color:var(--document-tag-text-color);background-color:var(--document-tag-background-color);border-radius:1em;padding:calc(var(--document-inline-padding-top-bottom) - 2 * var(--document-hairline-width)) calc(var(--document-inline-padding-left-right) + .3em);unicode-bidi:embed}.document-wrapper .hashtag>.marker{display:inline;color:var(--document-tag-marker-color);padding:0}.document-wrapper table{display:block;max-width:fit-content;overflow-x:auto;border-collapse:separate;border-spacing:0;border:var(--document-hairline-width) solid var(--document-table-border-color);border-radius:.33em;margin-bottom:calc(var(--document-line-height-multiplier) * 1em)}.document-wrapper table[data-direction="2"]{margin-left:auto;direction:ltr}.document-wrapper tr{display:table-row;background-color:var(--document-table-cell-background-color)}.document-wrapper tr.header-row,.document-wrapper tr:nth-child(odd){background-color:var(--document-table-cell-alternate-background-color)}.document-wrapper td,.document-wrapper th{box-sizing:border-box;display:table-cell;padding:.37em .75em;min-width:5em;border-right:var(--document-hairline-width) solid var(--document-table-border-color)}.document-wrapper td:last-of-type,.document-wrapper th:last-of-type{border:none}.document-wrapper table[data-direction="2"] td{margin-left:auto}.document-wrapper td[data-alignment="2"]{text-align:right}.document-wrapper td[data-alignment="3"]{text-align:center}.document-wrapper .code_comment{color:var(--document-code-syntax-highlight-comment)}.document-wrapper .code_constant{color:var(--document-code-syntax-highlight-constant)}.document-wrapper .code_number{color:var(--document-code-syntax-highlight-number)}.document-wrapper .code_string{color:var(--document-code-syntax-highlight-string)}.document-wrapper .code_entity{color:var(--document-code-syntax-highlight-entity)}.document-wrapper .code_keyword{color:var(--document-code-syntax-highlight-keyword)}.document-wrapper .code_function{color:var(--document-code-syntax-highlight-function)}.document-wrapper .code_variable{color:var(--document-code-syntax-highlight-variable)}.document-wrapper img{max-width:100%}.document-wrapper .pdf_preview{display:inline-block;width:100%;height:500px;background-color:#fff;overflow:hidden;padding:0;margin:0;position:relative;border-radius:4px}.document-wrapper .arrow svg #body,.document-wrapper .arrow svg #head{fill:var(--base-text-color)}.document-wrapper .todo-checkbox svg #body{stroke:var(--document-task-border-color)}.document-wrapper .todo-checkbox svg #check{fill:var(--document-task-check-color)}.document-wrapper .todo-checkbox.todo-checked svg #body{opacity:.35}.document-wrapper .todo-checkbox.todo-checked svg #check{opacity:.4}

        </style>
    </head>
    <body>
        <div class="document-wrapper">
            <h1 id='Building the Front-End Layer'>Building the Front-End Layer</h1><br>
<h1 id='Table of Contents'>Table of Contents</h1><ul>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Managing%20State'>Managing State</a></li>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Managing%20HTTP%20Sessions%20%28Cookies%2C%20Data%20Store%2C%20Load%20Balancer%29'>Managing HTTP Sessions (Cookies, Data Store, Load Balancer)</a></li>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Managing%20Files%20'>Managing Files </a>
<ul>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Cloud%20'>Cloud </a></li>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Local%20%28instead%20of%20building%20a%20high-available%20%28replication%29%20and%20scalable%20%28partitioning%29%29'>Local (instead of building a high-available (replication) and scalable (partitioning))</a></li>
</ul>
</li>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Managing%20Other%20Types%20of%20State%20'>Managing Other Types of State </a></li>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Components%20of%20the%20Scalable%20Front%20End'>Components of the Scalable Front End</a>
<ul>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=DNS'>DNS</a></li>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Load%20Balancers%20'>Load Balancers </a></li>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Web%20Servers%20'>Web Servers </a></li>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Caching%20'>Caching </a></li>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Auto-Scaling%20'>Auto-Scaling </a></li>
</ul>
</li>
<li><a href='bear://x-callback-url/open-note?id=2F849F6D-709C-4210-A358-E68D3069EE53&header=Amazon%20Example'>Amazon Example</a></li>
</ul><br>
<hr><br>
<br>
<ul>
<li><b>Traditional multipage web applications</b>
<ul>
<li><b>Clicking</b> a link or a button initiates a new web request and results in the browser <b>reloading</b> an entire page with the response <b>received</b> from the <b>server</b>.</li>
</ul>
</li>
<li><b>Single-page applications (SPAs)</b>
<ul>
<li>Web servers often reduced to providing a data application programming interface (API) and a security layer.</li>
</ul>
</li>
<li><b>Hybrid applications</b>
<ul>
<li>Some interactions cause a full page load, and others initiate only partial view updates using AJAX.</li>
</ul>
</li>
</ul><br>
<h2 id='Managing State'>Managing State</h2><ul>
<li><b>Stateful</b>, holding data that other machines or services can not access</li>
</ul><p><img src='Building%20the%20Front-End%20Layer/180D9281-9856-4A32-ABE4-C969CAA5DD37.png'></p><ul>
<li><b>Statelessness</b> is a property of a service, server, or object indicating that it does not hold any data (state).
<ul>
<li>Statelessness makes instances of the same type <b>interchangeable</b>, allowing better scalability.</li>
</ul>
</li>
</ul><p><img src='Building%20the%20Front-End%20Layer/09C07E06-977F-41D5-89D6-764C73EA7C32.png'></p><br>
<h2 id='Managing HTTP Sessions (Cookies, Data Store, Load Balancer)'>Managing HTTP Sessions (Cookies, Data Store, Load Balancer)</h2><ul>
<li><b>Cookies</b>, The framework serializes the session data, encrypts it, and includes it in the response <b>headers</b> as a new value of the session data cookie
<ul>
<li><b>Advantage</b>: No data stored locally</li>
<li><b>Practical challenge</b>: Session storage becomes expensive. Send the entire session in every request even when some requests do not need them. (ID or security token is fine, kilobytes of session data will be slow)</li>
</ul>
</li>
</ul><p><img src='Building%20the%20Front-End%20Layer/02EBCB7C-1F24-4B9E-99DA-5A0C52FD7450.png'></p><br>
<ul>
<li><b>Dedicated Data Store</b> (Memcached, Redis, DynamoDB, or Cassandra or object-clustering technologies like Teracotta)
<ul>
<li>The <b>only requirement</b> is to have <b>very low latency</b> on <b>get-by-key</b> and <b>put-by-key</b> operations</li>
<li>Data store might provide <b>automatic scalability</b> or implement <b>horizontal scalability</b> by the session ID</li>
</ul>
</li>
</ul><p><img src='Building%20the%20Front-End%20Layer/D429D4A0-7BB2-4F94-97D1-730C3FFE2DEC.png'></p><ul>
<li><b>Load Balancer with sticky session (Don’t recommend)</b>
<ul>
<li>The load balancer needs to make sure that requests with the same session cookie always go to the server that initially issued the cookie.</li>
<li><b>Not truly stateless</b> in the sense the machines are <b>not interchangeable</b></li>
</ul>
</li>
</ul><br>
<h2 id='Managing Files'>Managing Files</h2><ul>
<li><b>User-generated</b> content being uploaded to your servers</li>
<li>Files <b>generated by your system</b> that need to be downloaded by the user</li>
</ul><br>
<h3 id='Cloud'>Cloud</h3><ul>
<li>Consider using <b>Simple Storage Service (S3)</b> or <b>Azure Blob Storage</b> as the distributed file storage for your files.</li>
<li><b>Public</b> files
<ul>
<li><b>Content delivery network (CDN)</b> provider to deliver public files to your end users.</li>
</ul>
</li>
<li><b>Private</b> user files</li>
</ul><p><img src='Building%20the%20Front-End%20Layer/0C375880-2A4D-47D1-9C3B-002701764A5F.png'></p><br>
<h3 id='Local (instead of building a high-available (replication) and scalable (partitioning))'>Local (instead of building a high-available (replication) and scalable (partitioning))</h3><ul>
<li>Try <b>open-source data store</b> to store your files
<ul>
<li>MongoDB allows you to store files within a MongoDB cluster by using GridFS</li>
<li>GridFS is an extension built into MongoDB that splits files into smaller chunks and stores them inside MongoDB</li>
</ul>
</li>
<li>Build from <b>scratch</b>
<ul>
<li>learn more about distributed file systems like
<ul>
<li>Google File System (GFS),</li>
<li>Hadoop Distributed File System (HDFS)</li>
<li>ClusterFS</li>
<li>And fully distributed and fault-tolerant design</li>
</ul>
</li>
</ul>
</li>
</ul><br>
<h2 id='Managing Other Types of State'>Managing Other Types of State</h2><ul>
<li>Including local server cache, application in-memory state, and resource locks.</li>
</ul><br>
<h2 id='Components of the Scalable Front End'>Components of the Scalable Front End</h2><h3 id='DNS'>DNS</h3><ul>
<li>DNS is used to resolve domain names like <a href='ejsmont.org'>ejsmont.org</a> to IP addresses like 173.236.152.169</li>
<li>Recommend using a <b>third-party hosted service</b> instead of deploying your own DNS infrastructure.
<ul>
<li><b>Amazon Route 53 service</b>
<ul>
<li><b>Latency-based routing</b> (direct your clients to the “closest” data center)</li>
</ul>
</li>
</ul>
</li>
</ul><p><img src='Building%20the%20Front-End%20Layer/4C968A0F-E71A-485F-8D61-5EEE181FA9BE.png'></p><ul>
<li>Plenty of providers from which to choose, including <a href='easydns.com'>easydns.com</a>, <a href='dnsmadeeasy.com'>dnsmadeeasy.com</a>, dnsimple. com, and <a href='dyn.com'>dyn.com</a> (Switch is usually easy)</li>
</ul><br>
<h3 id='Load Balancers'>Load Balancers</h3><ul>
<li>Using <b>round-robin DNS</b> is <b>not recommended</b>, DNS is cached by the user and changes in the server will not be available to the user
<ul>
<li>If a server goes down, the user will still access its IP because it is cached</li>
</ul>
</li>
</ul><p><img src='Building%20the%20Front-End%20Layer/8FF342C0-414E-4D3B-9032-B1B1EAF87B05.png'></p><ul>
<li>Load Balancer</li>
</ul><p><img src='Building%20the%20Front-End%20Layer/453E0DFC-6489-4CCD-B7FB-DB2A0A0C31A4.png'></p><ul>
<li><b>Seamlessly increase capacity</b>, Add more web servers at any time without your clients ever realizing it.</li>
<li><b>Hidden server maintenance</b>, A server can be removed without affecting a single client (maybe a little more responding time)
<ul>
<li>Rolling updates: deploy new software across the cluster without any downtime.</li>
</ul>
</li>
<li><b>Efficient failure management</b>, Web server failures can be handled quickly by simply taking a faulty web server out of the load balancer pool. No new connection to the faulty server.</li>
<li><b>Effective resource management</b>You can use <b>Secure Sockets Layer (SSL)</b> offloading to reduce the resources your web servers need.
<ul>
<li>SSL offloading, allowing you to handle all SSL encryption/decryption work on the load balancer and use unencrypted connections internally.</li>
</ul>
</li>
</ul><br>
<h4 id='Load Balancer as a Hosted Service'>Load Balancer as a Hosted Service</h4><ul>
<li>If you are hosting your application on Amazon EC2 or Azure, use their hosted load balancer services, <b>Elastic Load Balancer (ELB)</b>
<ul>
<li>ELB has all features mentioned above, including SSL</li>
<li>It can auto-scale itself, but if requests come in too much some of your clients may receive HTTP 503 error</li>
<li>In addition to publicly facing load balancers, some cloud providers, like Amazon and Azure, allow you to configure their <b>load balancers internally</b>.</li>
</ul>
</li>
</ul><p><img src='Building%20the%20Front-End%20Layer/901BDAE9-E176-4882-AF2C-5452B0EDA0A0.png'></p><br>
<h4 id='Self-Managed open-source Software-Based Load Balancer'>Self-Managed open-source Software-Based Load Balancer</h4><ul>
<li>You can use either a reverse proxy like <b>Nginx</b> or a specialized open-source load balancer product like <b>HAProxy</b> (2015 book, search for more options)</li>
<li>You will need to scale the load balancer yourself.</li>
<li>Both Nginx and HAProxy can forward thousands of requests per second for thousands of concurrent clients
<ul>
<li>Should support most application on a single load balancer (with a hot standby) for a long time.</li>
</ul>
</li>
<li>Scale out by deploying multiple load balancers under distinct public IP addresses and distributing traffic among them via a round-robin DNS.
<ul>
<li>As long as your load balancers are interchangeable and your web servers are stateless</li>
<li>Round-robin DNS is alright here. Because load balancers are less likely to be updated thus be down or fail due to a bug.</li>
</ul>
</li>
</ul><br>
<h4 id='Hardware Load Balancer'>Hardware Load Balancer</h4><ul>
<li>Devices like Big-IP from F5 or Netscaler from Citrix</li>
</ul><br>
<h3 id='Web Servers'>Web Servers</h3><ul>
<li>Front end is mainly about handling user <b>interactions</b>, <b>rendering</b> views, and processing user <b>input</b>
<ul>
<li>Recommend <b>dynamic languages</b></li>
<li>Do some research before committing to a particular stack and a web server, the most important thing for your scalability is to keep your front-end machines stateless.</li>
</ul>
</li>
</ul><br>
<h3 id='Caching'>Caching</h3><ul>
<li>Instead of trying to add more servers or make them respond faster to clients’ requests, use caching to avoid having to serve these requests in the first place.</li>
</ul><br>
<h4 id='CND'>CND</h4><ul>
<li>Use a CDN to <b>proxy all of the web requests</b> coming to your web servers Or use it solely for <b>static files</b> like images, CSS, and JavaScript files
<ul>
<li>Maybe about to cache entire page or AJAX response.</li>
<li>The more <b>personalized</b> your content is and the more <b>dynamic</b> the nature of your web application, the <b>harder</b> it becomes to cache entire HTTP responses.</li>
</ul>
</li>
<li><b>Caching</b> in the front-end layer is to store data directly in the <b>browser</b></li>
<li>Your web servers might need to <b>serve the request</b>, can benefit from a <b>shared object cache</b> like <b>Redis</b> or <b>Memcached</b> (Facebook, Pinterest, Reddit)</li>
</ul><br>
<h3 id='Auto-Scaling'>Auto-Scaling</h3><ul>
<li>Auto-scaling is a technique of automating your infrastructure so that new virtual servers would be <b>added</b> or <b>removed</b> from your clusters <b>depending</b> on the <b>volume</b> of traffic and server load.</li>
<li>Scalability is about scaling <b>up</b> and <b>down</b> (<b>save cost</b> and help you handle unexpected <b>spikes</b>)</li>
<li>The easiest way to implement auto-scaling is to use the hosting provider’s auto-scaling tools. (Amazon, Rackspace, Azure…)</li>
</ul><br>
<h2 id='Amazon Example'>Amazon Example</h2><p><img src='Building%20the%20Front-End%20Layer/C720B7D0-B04C-49C2-B3C2-39AF9EB48913.png'></p><br>
<br>
<br>
<br>
<br>
<br>
<p><span class='hashtag'><span class='hashtag-marker marker'>#</span>_book<span class='hashtag-separator-marker marker'>/</span>Programing<span class='hashtag-separator-marker marker'>/</span>Web-Scalability</span></p>
        </div>
    </body>
</html>
